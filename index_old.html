<!DOCTYPE html>
<html>
<head>
<link  href="./css/style.css" rel="stylesheet">
<link  href="./css/grid.css" rel="stylesheet">
</head>
<body>

<div class="header">
	<h1>Simulateur de champ en fonction de la focale et de la distance au sujet</h1>

	<div class="parameters">
		<form onsubmit="onSubmit()">
			<div class="parameter">
				Focale <input type="number" name="focal" value="18" min="10" max="30"> mm 
			</div>
			<div class="parameter">
				Distance du sujet: <input type="number" name="distance" value="50" min="30" max="200"> cm
			</div>
			<input type="submit" value="Submit">
		</form>
	</div>
</div>

<div class="section group">
	<div class="col span_1_of_4">18mm</div>
	<div class="col span_1_of_4">20mm</div>
	<div class="col span_1_of_4">22mm</div>
	<div class="col span_1_of_4">24mm</div>
</div>
<div class="section group">
	<div class="col span_1_of_4">
		<img class="18mm"></img>
	</div>
	<div class="col span_1_of_4">
		<img class="20mm"></img>
	</div>
	<div class="col span_1_of_4">
			<img class="22mm"></img>
	</div>
	<div class="col span_1_of_4">
			<img class="24mm"></img>
	</div>
</div>


<!-- <div class="crop">
	<img class="dixhuit" 
	src='https://figure-production.s3.amazonaws.com/media/snapshots/Figure_1VEFymtWGHpocRmbwr.jpg'></img>
</div>
<div class="crop">
	<img class="dixhuit" 
	src='https://figure-production.s3.amazonaws.com/media/snapshots/Figure_BKdCwDCl1I7LIMebwr.jpg'></img>
</div>
<div class="crop">
	<img class="dixhuit" 
	src='https://figure-production.s3.amazonaws.com/media/snapshots/Figure_r7ofYGSV0I57FeAbwr.jpg'></img>
</div>
<div class="crop">
	<img class="dixhuit" 
	src='https://figure-production.s3.amazonaws.com/media/snapshots/Figure_7Klc52HpOF2ocgRbwr.jpg'></img>
</div>
<div class="crop">
	<img class="dixhuit" 
	src='https://figure-production.s3.amazonaws.com/media/snapshots/Figure_yX5IljiMnIkYFombwr.jpg'></img>
</div>
<div class="crop">
	<img class="dixhuit" 
	src='https://figure-production.s3.amazonaws.com/media/snapshots/Figure_wYRFddsgZIkwt89bwr.jpg'></img>
</div>
<div class="crop">
	<img class="dixhuit" 
	src='https://figure-production.s3.amazonaws.com/media/snapshots/Figure_zLrTGmUb9cXlh8Zbwr.jpg'></img>
</div>
<div class="crop">
	<img class="dixhuit" 
	src='https://figure-production.s3.amazonaws.com/media/snapshots/Figure_3jmCWaCQ1sWZCnnbwr.jpg'></img>
</div> -->



</body>
<script src='js/imgix.js'></script>
<script>

function onSubmit(){
	console.log("coucou")
}

/** Return view angle in Radian */
function getAngle(f) {
	return 2 * Math.atan(7.5 / f); 
}

/** Calculate the size ratio of the image for a different focal */
function ratio(f) {
	var alpha18 = getAngle(18); 
	var alpha = getAngle(f);
	return Math.tan(alpha) / Math.tan(alpha18)
}

/** Crop an image based on its container size and ratio */
function crop(element, frameSize, ratio){
	var pictureSize = frameSize / ratio;
	var margin =  (frameSize - pictureSize) / 2; 
	element.style.width = pictureSize.toString() + "px" + "!important";
	element.style.height = pictureSize.toString() + "px";
	element.style['margin-top'] = margin.toString() + "px";
	element.style['margin-left'] =  margin.toString() + "px";
}

function update() {
	var frameSize = document.getElementsByClassName("crop")[0].offsetWidth;

	console.log(frameSize)

	var focales = [20, 22, 24];

	for(var j=0; j<focales.length; j++) {
		var pictures = document.getElementsByClassName(focales[j].toString() + "mm");
		for(var i=0; i<pictures.length; i++){
			var r = ratio(focales[j]);
			crop(pictures[i], frameSize, r)
		}		
	}
}


var host = "http://figure-imgix.imgix.net"

var pictures = ['Figure_BKdCwDCl1I7LIMebwr.jpg'] 


 

</script>

</html>
